"use strict";!function(){function t(e,r,s){function a(i,o){if(!r[i]){if(!e[i]){var c="function"==typeof require&&require;if(!o&&c)return c(i,!0);if(n)return n(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var d=r[i]={exports:{}};e[i][0].call(d.exports,function(t){var r=e[i][1][t];return a(r||t)},d,d.exports,t,e,r,s)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<s.length;i++)a(s[i]);return a}return t}()({1:[function(t,e,r){function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,r,s){return r&&t(e.prototype,r),s&&t(e,s),e}}(),n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t),this.cardId=e.cardId||"ui-card",this.cardClass=e.cardClass||"ui-card",this.cardElements={card:document.getElementById(this.cardId),rotate:document.getElementById(this.cardId+"__rotate"),logo:document.getElementById(this.cardId+"__logo"),number:document.getElementById(this.cardId+"__number"),name:document.getElementById(this.cardId+"__name"),expiration:document.getElementById(this.cardId+"__expiration"),securityFront:document.getElementById(this.cardId+"__security-front"),securityBack:document.getElementById(this.cardId+"__security-back")},this.lengthNumbers=16,this.focusElements=["number","name","expiration","securityFront","securityBack"],this.hiddenElements=["number","name","expiration","securityFront","securityBack"],this.interactionDefault=e.interactionDefault||{rotateFront:!0,rotateBack:!0,security:"back",format:"4-4-4-4"},this.interactions=e.interactions||{amex:{rotateFront:!0,rotateBack:!1,security:"front",format:"4-6-5"},master:this.interactionDefault,visa:this.interactionDefault,diners:{rotateFront:!0,rotateBack:!0,security:"back",format:"4-6-4"},debmaster:this.interactionDefault,debvisa:this.interactionDefault,mercadopagocard:this.interactionDefault,"mercado-pago-card":this.interactionDefault},this.cardValues={brand:"empty",rotate:"front",format:"4-4-4-4"},this.brandsProxy={melicard:"master_melicard"},this.issuersProxy={"banco-santander-rio-s.a.":"banco-santander-rio-sa"}}return a(t,[{key:"rotateAllow",value:function(t){var e=void 0,r=this.cardValues.brand.split("_")[0];return e=(this.interactions[r]||this.interactionDefault)["rotate"+t],"boolean"==typeof e?e:!1}},{key:"rotateFront",value:function(){var t=this.cardElements.rotate;this.rotateAllow("Front")&&"back"===this.cardValues.rotate&&(t.classList.remove(this.cardClass+"__rotate-back"),t.classList.add(this.cardClass+"__rotate-front"),this.cardValues.rotate="front")}},{key:"rotateBack",value:function(){var t=this.cardElements.rotate;this.rotateAllow("Back")&&"front"===this.cardValues.rotate&&(t.classList.remove(this.cardClass+"__rotate-front"),t.classList.add(this.cardClass+"__rotate-back"),this.cardValues.rotate="back")}},{key:"rotate",value:function(){this.cardElements.rotate;"back"===this.cardValues.rotate?this.rotateFront():this.rotateBack()}},{key:"resetElementClass",value:function(t){t.className=""+this.cardClass}},{key:"setElementClasses",value:function(t,e,r,s){var a=this;setTimeout(function(){t.classList.add(a.cardClass+"__brand-"+r.split("&")[0]),e&&t.classList.add(a.cardClass+"__brand-"+s)},30)}},{key:"checkBrandsProxy",value:function(t){var e=t.split("_")[0];return this.brandsProxy[e]||t}},{key:"checkIssuerProxy",value:function(t){return this.issuersProxy[t]||t}},{key:"brand",set:function(t){t=this.checkBrandsProxy(t);var e=this.cardElements.card,r=t.split("_"),s=r.length>1,a=r[0],n=null;s&&(n=this.checkIssuerProxy(r[1])),this.resetElementClass(e),t&&this.setElementClasses(e,s,a,n),this.cardValues.brand=t;var i=this.interactions[a]||this.interactionDefault;this.lengthNumbers=i.format.split("-").reduce(function(t,e){return t+parseInt(e)},0),"front"!==this.cardValues.rotate||this.rotateAllow("Front")||this.rotateBack(),"back"!==this.cardValues.rotate||this.rotateAllow("Back")||this.rotateFront(),"front"===i.security?this.cardElements.securityFront.style.visibility="visible":this.cardElements.securityFront.style.visibility="hidden";var o=this.cardElements.number;o.classList.remove(this.cardClass+"__number-"+this.cardValues.format),this.cardValues.format=i.format,o.classList.add(this.cardClass+"__number-"+this.cardValues.format)}},{key:"number",set:function(t){for(var e=0,r=this.cardElements.number;e<r.children.length&&e<this.lengthNumbers;)r.children[e].textContent=t[e]||"",e++}},{key:"numberReverse",set:function(t){var e=0,r=this.cardElements.number;for(t=t.split("").reverse().join("");e<this.lengthNumbers;)r.children[this.lengthNumbers-e-1].textContent=t[e]||"",e++}},{key:"name",set:function(t){this.cardElements.name.textContent=t?t.toString():""}},{key:"expiration",set:function(t){var e=0,r=this.cardElements.expiration;for(t=t?t.toString().replace(/\//g,""):"";e<r.children.length;)r.children[r.children.length-1-e].textContent=t[e]||"",e++}},{key:"security",set:function(t){var e=0,r=this.cardElements.securityFront;for(t=t?t.toString():"";e<r.children.length;)r.children[e].textContent=t[r.children.length-e-1]||"",e++;for(e=0,r=this.cardElements.securityBack;e<r.children.length;)r.children[e].textContent=t[e]||"",e++}},{key:"focus",set:function(t){-1!==this.focusElements.indexOf(t)&&this.cardElements[t].classList.add(this.cardClass+"__focus")}},{key:"blur",set:function(t){-1!==this.focusElements.indexOf(t)&&this.cardElements[t].classList.remove(this.cardClass+"__focus")}},{key:"hidden",set:function(t){-1!==this.hiddenElements.indexOf(t)&&(this.cardElements[t].style.visibility="hidden")}},{key:"visible",set:function(t){-1!==this.hiddenElements.indexOf(t)&&(this.cardElements[t].style.visibility="visible")}}]),t}();r["default"]=n,window.CardComponent=n},{}]},{},[1]);